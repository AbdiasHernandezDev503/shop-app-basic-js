<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Restablecer contraseña - El Faro del Libro</title>

    <!-- Montserrat -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- SweetAlert2 -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  </head>

  <body
    class="bg-[#F4EDE6] min-h-screen flex flex-col"
    style="font-family: 'Montserrat', sans-serif;"
  >
    <!-- HEADER: logo esquina superior izquierda -->
    <header class="w-full py-4 px-6">
      <div class="flex items-center gap-3">
        <img src="../images/logo.png" alt="El Faro del Libro" class="w-32 h-auto" />
      </div>
    </header>

    <!-- MAIN: formulario centrado -->
    <main class="flex-1 flex items-center justify-center">
      <div class="w-full max-w-md px-6">
        <h1 class="text-2xl md:text-3xl font-semibold text-[#7B3A24] text-center mb-4">
          Restablecer contraseña
        </h1>

        <p class="text-sm text-[#7B3A24] text-center mb-8">
          Ingresa tu correo electrónico y tu nueva contraseña. 
          Asegúrate de usar al menos 8 caracteres y confirmar la misma contraseña.
        </p>

        <form id="resetForm" class="space-y-6" novalidate>
          <!-- Correo -->
          <div class="space-y-1">
            <label class="block text-sm text-[#7B3A24]" for="email">
              Correo electrónico
            </label>
            <input
              id="email"
              name="email"
              type="email"
              required
              class="w-full border-b border-[#B8A79B] bg-transparent
                     focus:outline-none focus:border-[#8A4A30] py-2 text-[#4A4A4A]"
              placeholder="correo@ejemplo.com"
            />
          </div>

          <!-- Nueva contraseña -->
          <div class="space-y-1">
            <label class="block text-sm text-[#7B3A24]" for="newPassword">
              Nueva contraseña
            </label>
            <input
              id="newPassword"
              name="newPassword"
              type="password"
              required
              minlength="8"
              class="w-full border-b border-[#B8A79B] bg-transparent
                     focus:outline-none focus:border-[#8A4A30] py-2 text-[#4A4A4A]"
              placeholder="••••••••"
            />
          </div>

          <!-- Confirmar contraseña -->
          <div class="space-y-1">
            <label class="block text-sm text-[#7B3A24]" for="confirmPassword">
              Confirmar contraseña
            </label>
            <input
              id="confirmPassword"
              name="confirmPassword"
              type="password"
              required
              minlength="8"
              class="w-full border-b border-[#B8A79B] bg-transparent
                     focus:outline-none focus:border-[#8A4A30] py-2 text-[#4A4A4A]"
              placeholder="••••••••"
            />
          </div>

          <!-- BOTÓN GUARDAR -->
          <div class="mt-4">
            <button
              type="button"
              class="w-full bg-[#556B5A] hover:bg-[#435446]
                     text-white font-semibold py-2.5 rounded-md shadow-sm transition"
              onclick="restablecerContrasena()"
            >
              Guardar nueva contraseña
            </button>
          </div>

          <!-- VOLVER AL LOGIN -->
          <div class="text-center mt-4">
            <button
              type="button"
              class="text-sm text-[#8A4A30] hover:underline"
              onclick="window.location.href='iniciar-sesion.html'"
            >
              Volver a iniciar sesión
            </button>
          </div>
        </form>
      </div>
    </main>

    <script>
      function restablecerContrasena() {
        const form = document.getElementById('resetForm');
        const esValido = form.reportValidity();
        if (!esValido) return;

        const newPass = document.getElementById('newPassword').value.trim();
        const confirmPass = document.getElementById('confirmPassword').value.trim();

        // Validar que las contraseñas coincidan
        if (newPass !== confirmPass) {
          Swal.fire({
            title: 'Las contraseñas no coinciden',
            text: 'Por favor verifica que ambas contraseñas sean iguales.',
            icon: 'error',
            confirmButtonText: 'Corregir',
            confirmButtonColor: '#556B5A',
            background: '#F4EDE6',
            color: '#7B3A24'
          });
          return;
        }

        // guardar la nueva contraseña
        Swal.fire({
          title: 'Contraseña actualizada',
          text: 'Tu contraseña ha sido restablecida correctamente.',
          icon: 'success',
          confirmButtonText: 'Volver al inicio de sesión',
          confirmButtonColor: '#556B5A',
          background: '#F4EDE6',
          color: '#7B3A24'
        }).then(() => {
          window.location.href = 'iniciar-sesion.html';
        });
      }
    </script>
  </body>
</html>

